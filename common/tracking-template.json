{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Session Log Entry",
  "description": "Schema for each line in tracking/session-log.jsonl",
  "type": "object",
  "required": ["session_id", "date", "model", "harness", "task", "input_tokens", "output_tokens", "cost_usd"],
  "properties": {
    "session_id": {
      "type": "string",
      "description": "Unique session identifier, e.g. 2026-02-19-001",
      "examples": ["2026-02-19-001"]
    },
    "date": {
      "type": "string",
      "format": "date",
      "description": "ISO date of the session",
      "examples": ["2026-02-19"]
    },
    "model": {
      "type": "string",
      "description": "LLM model used",
      "examples": ["claude-sonnet-4-20250514", "gpt-4.1", "gemini-2.5-pro"]
    },
    "harness": {
      "type": "string",
      "description": "Agentic coding tool / harness variant",
      "examples": ["claude-code", "cursor", "cursor-agent-orchestration"]
    },
    "task": {
      "type": "string",
      "description": "Brief description of what was built in this session",
      "examples": ["Build user auth endpoints", "Scaffold frontend routing"]
    },
    "input_tokens": {
      "type": "integer",
      "minimum": 0
    },
    "output_tokens": {
      "type": "integer",
      "minimum": 0
    },
    "cache_read_tokens": {
      "type": "integer",
      "minimum": 0,
      "default": 0
    },
    "cache_write_tokens": {
      "type": "integer",
      "minimum": 0,
      "default": 0
    },
    "cost_usd": {
      "type": "number",
      "minimum": 0,
      "description": "Total cost in USD for this session"
    },
    "duration_min": {
      "type": "number",
      "minimum": 0,
      "description": "Wall-clock duration in minutes"
    },
    "human_interventions": {
      "type": "integer",
      "minimum": 0,
      "default": 0,
      "description": "Number of times a human had to manually correct or redirect"
    },
    "notes": {
      "type": "string",
      "default": ""
    }
  }
}
